(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{"cSX/":function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return o})),a.d(t,"default",(function(){return b}));a("5hJT"),a("W1QL"),a("K/PF"),a("t91x"),a("75LO"),a("PJhk"),a("mXGw");var n=a("/FXl"),r=a("TjRS");a("aD51");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var o={};void 0!==o&&o&&o===Object(o)&&Object.isExtensible(o)&&!o.hasOwnProperty("__filemeta")&&Object.defineProperty(o,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"src/http_headers/etag.mdx"}});var s={_frontmatter:o},c=r.a;function b(e){var t=e.components,a=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,["components"]);return Object(n.b)(c,i({},s,a,{components:t,mdxType:"MDXLayout"}),Object(n.b)("h1",{id:"http-header-etag"},"HTTP Header: ETag"),Object(n.b)("p",null,"Based ",Object(n.b)("a",i({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag"}),"on MDN definition for ETag"),":"),Object(n.b)("p",null,"The ETag HTTP response header is an identifier for a specific version of a resource. It lets caches be more efficient and save bandwidth, as a web server does not need to resend a full response if the content has not changed. Additionally, etags help prevent simultaneous updates of a resource from overwriting each other."),Object(n.b)("p",null,"If the resource at a given URL changes, a new Etag value must be generated. A comparison of them can determine whether two representations of a resource are the same. Etags are therefore similar to fingerprints, and might also be used for tracking purposes by some servers. They might also be set to persist indefinitely by a tracking server."),Object(n.b)("pre",null,Object(n.b)("code",i({parentName:"pre"},{}),'ETag: "33a64df551425fcc55e4d42a148795d9f25f89d4"\nETag: W/"0815"\n')),Object(n.b)("p",null,"Note: 'W/*' indicates that a weak validator is used, so it is not valid for comparison (not byte-for-byte identical)."),Object(n.b)("p",null,"You can customize ",Object(n.b)("a",i({parentName:"p"},{href:"https://github.com/expressjs/express/issues/2129#issuecomment-43965315"}),"the behaviour in Express"),":"),Object(n.b)("pre",null,Object(n.b)("code",i({parentName:"pre"},{}),"app.enable('etag') // use strong etags\napp.set('etag', 'strong') // same\napp.set('etag', 'weak') // weak etags\napp.set('etag', function(chunk, encoding){ /* return valid etag */ }) // your own fn\n")),Object(n.b)("h2",{id:"the-attack"},"The attack"),Object(n.b)("p",null,"In the past sometimes the ETag was misconfigured by default using built string and not hashes, like in ",Object(n.b)("a",i({parentName:"p"},{href:"https://cve.mitre.org/cgi-bin/cvename.cgi?name=2003-1418"}),"CVE-2003-1418")," that leads to information leaks."),Object(n.b)("blockquote",null,Object(n.b)("p",{parentName:"blockquote"},"Apache HTTP server in certain configurations allows remote attackers to obtain sensitive information via (1) the ETag header, which reveals the inode number, or (2) multipart MIME boundary, which reveals child proccess IDs (PID)."),Object(n.b)("ul",{parentName:"blockquote"},Object(n.b)("li",{parentName:"ul"},"About ",Object(n.b)("a",i({parentName:"li"},{href:"https://www.rapid7.com/db/vulnerabilities/apache-httpd-cve-2003-1418"}),"cve-2003-1418 in rapid7")))),Object(n.b)("h3",{id:"refs"},"Refs:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("a",i({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag"}),"MDN | ETag")),Object(n.b)("li",{parentName:"ul"},Object(n.b)("a",i({parentName:"li"},{href:"https://www.rapid7.com/db/vulnerabilities/apache-httpd-cve-2003-1418"}),"Rapid 7 | CVE-2003-1418")),Object(n.b)("li",{parentName:"ul"},Object(n.b)("a",i({parentName:"li"},{href:"https://cve.mitre.org/cgi-bin/cvename.cgi?name=2003-1418"}),"CVE-2003-1418"))))}void 0!==b&&b&&b===Object(b)&&Object.isExtensible(b)&&!b.hasOwnProperty("__filemeta")&&Object.defineProperty(b,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"src/http_headers/etag.mdx"}}),b.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-http-headers-etag-mdx-565a4931cff36ba40ab3.js.map