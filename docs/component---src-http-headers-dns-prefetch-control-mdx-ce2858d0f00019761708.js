(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{GvEb:function(e,t,r){"use strict";r.r(t),r.d(t,"_frontmatter",(function(){return s})),r.d(t,"default",(function(){return c}));r("5hJT"),r("W1QL"),r("K/PF"),r("t91x"),r("75LO"),r("PJhk"),r("mXGw");var n=r("/FXl"),o=r("TjRS");r("aD51");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s={};void 0!==s&&s&&s===Object(s)&&Object.isExtensible(s)&&!s.hasOwnProperty("__filemeta")&&Object.defineProperty(s,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"src/http_headers/dns_prefetch_control.mdx"}});var l={_frontmatter:s},i=o.a;function c(e){var t=e.components,r=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["components"]);return Object(n.b)(i,a({},l,r,{components:t,mdxType:"MDXLayout"}),Object(n.b)("h1",{id:"http-header-dns-prefetch-control"},"HTTP Header: DNS Prefetch Control"),Object(n.b)("h2",{id:"the-attack"},"The attack"),Object(n.b)("p",null,"When you visit a URL, your browser has to look up the domain’s IP address. For example, it has to resolve ",Object(n.b)("inlineCode",{parentName:"p"},"example.com")," to ",Object(n.b)("inlineCode",{parentName:"p"},"93.184.216.34"),". This process is called DNS."),Object(n.b)("p",null,"Browsers can start these DNS requests before the user even clicks a link or loads a resource from somewhere. This improves performance when the user clicks the link, but has privacy implications for users. It can appear as if a user is visiting things they aren’t visiting."),Object(n.b)("h2",{id:"the-header"},"The header"),Object(n.b)("p",null,"The ",Object(n.b)("inlineCode",{parentName:"p"},"X-DNS-Prefetch-Control")," header tells browsers whether they should do DNS prefetching. Turning it on may not work—not all browsers support it in all situations—but turning it off should disable it on all supported browsers."),Object(n.b)("p",null,"To disable DNS prefetching, set the ",Object(n.b)("inlineCode",{parentName:"p"},"X-DNS-Prefetch-Control")," header to off. To attempt to enable it, set the value to on."),Object(n.b)("p",null,"Most browsers don’t do DNS prefetching so most browsers can ignore this header."),Object(n.b)("h2",{id:"the-code"},"The code"),Object(n.b)("p",null,"This middleware lets you disable browsers’ DNS prefetching by setting the ",Object(n.b)("inlineCode",{parentName:"p"},"X-DNS-Prefetch-Control")," header."),Object(n.b)("pre",null,Object(n.b)("code",a({parentName:"pre"},{className:"language-js"}),'const helmet = require(\'helmet\')\n\n// Sets "X-DNS-Prefetch-Control: off".\napp.use(helmet())\n\n// Sets "X-DNS-Prefetch-Control: off".\napp.use(helmet.dnsPrefetchControl({ allow: false }))\n\n// Sets "X-DNS-Prefetch-Control: on".\napp.use(helmet.dnsPrefetchControl({ allow: true }))\n')),Object(n.b)("h3",{id:"refs"},"Refs:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("a",a({parentName:"li"},{href:"https://helmetjs.github.io/docs/dns-prefetch-control"}),"Helmet | DNS Prefetch Control")),Object(n.b)("li",{parentName:"ul"},Object(n.b)("a",a({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-DNS-Prefetch-Control"}),"MDN | X-DNS-Prefetch-Control")),Object(n.b)("li",{parentName:"ul"},Object(n.b)("a",a({parentName:"li"},{href:"https://dev.chromium.org/developers/design-documents/dns-prefetching"}),"Chromium | DNS Prefetching")),Object(n.b)("li",{parentName:"ul"},Object(n.b)("a",a({parentName:"li"},{href:"https://www.keycdn.com/support/prefetching"}),"KeyCDN | What Is Prefetching and Why Use It"))))}void 0!==c&&c&&c===Object(c)&&Object.isExtensible(c)&&!c.hasOwnProperty("__filemeta")&&Object.defineProperty(c,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"src/http_headers/dns_prefetch_control.mdx"}}),c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-http-headers-dns-prefetch-control-mdx-ce2858d0f00019761708.js.map