(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{sbrI:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return l})),a.d(t,"default",(function(){return s}));a("5hJT"),a("W1QL"),a("K/PF"),a("t91x"),a("75LO"),a("PJhk"),a("mXGw");var r=a("/FXl"),n=a("TjRS");a("aD51");function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var l={};void 0!==l&&l&&l===Object(l)&&Object.isExtensible(l)&&!l.hasOwnProperty("__filemeta")&&Object.defineProperty(l,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"src/http_headers/feature_policy.mdx"}});var i={_frontmatter:l},c=n.a;function s(e){var t=e.components,a=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,["components"]);return Object(r.b)(c,o({},i,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h1",{id:"http-header-feature-policy"},"HTTP Header: Feature Policy"),Object(r.b)("h2",{id:"the-attack"},"The attack"),Object(r.b)("p",null,"Web browsers have lots of different features, from vibration to fullscreen to microphone access. While some of these can be useful, you may not wish to use all of them, and you may not want any third-party scripts you include to use them either."),Object(r.b)("h2",{id:"the-header"},"The header"),Object(r.b)("p",null,"The ",Object(r.b)("inlineCode",{parentName:"p"},"Feature-Policy")," header tells browsers which features you can use. For example, if you want to disable notifications for everyone and allow payments from example.com, you could send a header like this:"),Object(r.b)("pre",null,Object(r.b)("code",o({parentName:"pre"},{}),"Feature-Policy: notifications 'none'; payments example.com\n")),Object(r.b)("h3",{id:"list-of-features"},"List of Features"),Object(r.b)("p",null,"Not all the browsers have a full support, but most of them have a ",Object(r.b)("a",o({parentName:"p"},{href:"https://caniuse.com/#feat=feature-policy"}),"partial support")),Object(r.b)("h4",{id:"policy-controlled-features"},"Policy Controlled Features"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",o({parentName:"li"},{href:"https://github.com/w3c/webappsec-feature-policy/blob/master/features.md#standardized-features"}),"Standardized Features")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",o({parentName:"li"},{href:"https://github.com/w3c/webappsec-feature-policy/blob/master/features.md#proposed-features"}),"Proposed Features")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",o({parentName:"li"},{href:"https://github.com/w3c/webappsec-feature-policy/blob/master/features.md#experimental-features"}),"Experimental Features"))),Object(r.b)("h3",{id:"posible-values"},"Posible values"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"*"),": The feature is allowed in top-level browsing contexts and in nested browsing contexts (iframes)."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"'self'"),": The feature is allowed in top-level browsing contexts and same-origin nested browsing contexts. It is disallowed in cross-origin documents in nested browsing contexts."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"'none'"),": The feature is disallowed in top-level browsing contexts and disallowed in nested browsing contexts."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"<origin(s)>"),": specific origins to enable the policy for (e.g. ",Object(r.b)("a",o({parentName:"li"},{href:"https://example.com"}),"https://example.com"),").")),Object(r.b)("h2",{id:"the-code"},"The code"),Object(r.b)("p",null,"Helmetâ€™s ",Object(r.b)("inlineCode",{parentName:"p"},"featurePolicy")," middleware lets you restrict which browser features can be used. For example, you can disable fullscreen or vibration APIs."),Object(r.b)("pre",null,Object(r.b)("code",o({parentName:"pre"},{className:"language-js"}),"const helmet = require('helmet')\n\napp.use(helmet.featurePolicy({\n  features: {\n    fullscreen: [\"'self'\"],\n    vibrate: [\"'none'\"],\n    payment: ['example.com'],\n    syncXhr: [\"'none'\"]\n  }\n}))\n")),Object(r.b)("h3",{id:"refs"},"Refs:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",o({parentName:"li"},{href:"https://helmetjs.github.io/docs/feature-policy"}),"Helmet | Feature-Policy")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",o({parentName:"li"},{href:"https://w3c.github.io/webappsec-feature-policy/"}),"W3C | Feature Policy")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",o({parentName:"li"},{href:"https://developers.google.com/web/updates/2018/06/feature-policy"}),"Google Developers | Introduction to Feature Policy")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",o({parentName:"li"},{href:"https://caniuse.com/#feat=feature-policy"}),"Can I use | feature-policy")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",o({parentName:"li"},{href:"https://www.chromestatus.com/features#component%3A%20Blink%3EFeaturePolicy"}),"Chrome Status | Feature Policy")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",o({parentName:"li"},{href:"https://docs.google.com/document/d/1k0Ua-ZWlM_PsFCFdLMa8kaVTo32PeNZ4G7FFHqpFx4E/edit#"}),"Chromium team | Feature Policy Explainer")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",o({parentName:"li"},{href:"https://scotthelme.co.uk/a-new-security-header-feature-policy/"}),"Scott Helme | A new security header: Feature Policy"))))}void 0!==s&&s&&s===Object(s)&&Object.isExtensible(s)&&!s.hasOwnProperty("__filemeta")&&Object.defineProperty(s,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"src/http_headers/feature_policy.mdx"}}),s.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-http-headers-feature-policy-mdx-f43da3c367be1250aa61.js.map